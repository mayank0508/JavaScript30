<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Flex Panels ðŸ’ª</title>
    <link
      href="https://fonts.googleapis.com/css?family=Amatic+SC"
      rel="stylesheet"
      type="text/css"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="panels">
      <div class="panel panel1">
        <p>No</p>
        <p>One</p>
        <p>Will</p>
      </div>
      <div class="panel panel2">
        <p>Ever</p>
        <p>Come</p>
        <p>Close</p>
      </div>
      <div class="panel panel3">
        <p>To The</p>
        <p>Greatest</p>
        <p>Footballer</p>
      </div>
      <div class="panel panel4">
        <p>Ever To</p>
        <p>Have</p>
        <p>Ever Played</p>
      </div>
      <div class="panel panel5">
        <p>This</p>
        <p>Game</p>
        <p>M E S S I</p>
      </div>
    </div>

    <script>
      const panels = document.querySelectorAll('.panel'); // selects all the panels

      function toggleOpen() {
        // toggle when the panel to open
        this.classList.toggle('open');
      }

      function toggleEnd(e) {
        // toggle when the panel to closes
        if (e.propertyName.includes('flex')) {
          this.classList.toggle('open-active');
        }
      }

      panels.forEach(panel => panel.addEventListener('click', toggleOpen)); // here we are not using the toggleOpen() method because it will be called in
      //the page reload time we dont want that , so we will link the function when the the pannels are clicked
      panels.forEach(
        panel => panel.addEventListener('transitionend', toggleEnd) // we are endling the transition event in this way
      );
    </script>
  </body>
</html>
